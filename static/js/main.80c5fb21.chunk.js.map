{"version":3,"sources":["store/actions.ts","store/index.ts","store/selectors.ts","components/CurrentUser/CurrentUser.tsx","api/todos.ts","api/user.ts","components/TodosList/TodosList.tsx","App.tsx","index.tsx"],"names":["LOAD_TODOS","LOAD_USER","INPUT_VALUE","SELECT_VALUE","SELECTED_USER_ID","loadUserAction","payload","type","setSelectedUserId","initialState","todos","user","inputValue","selectValue","selectedUserId","store","createStore","state","action","getTodosSelector","getUserSelector","getInputValue","getSelectValue","getSelectedUserId","CurrentUser","dispatch","useDispatch","useSelector","className","name","email","phone","onClick","API_URL","getTodos","a","fetch","responce","json","getUser","userId","TodosList","handelSelectUser","userFromServer","id","useEffect","loadTodosFromServer","todosFromServer","handleSelectChange","event","target","value","filterTodos","todosFoFiler","filteredTodos","filter","todo","completed","title","toLowerCase","includes","toLocaleLowerCase","handleInputChange","onChange","map","classNames","htmlFor","checked","readOnly","App","Root","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.80c5fb21.chunk.js","sourcesContent":["import { Todo, User } from '../react-app-env';\n\nexport const LOAD_TODOS = 'LOAD_TODOS';\nexport const LOAD_USER = 'LOAD_USER';\nexport const INPUT_VALUE = 'Input_Value';\nexport const SELECT_VALUE = 'SELECT_VALUE';\nexport const SELECTED_USER_ID = 'SELECTED_USER_ID';\n\nexport const loadTodosAction = (payload: Todo[]) => ({\n  type: LOAD_TODOS,\n  payload,\n});\n\nexport const loadUserAction = (payload: User | null) => ({\n  type: LOAD_USER,\n  payload,\n});\n\nexport const setInputValue = (payload: string) => ({\n  type: INPUT_VALUE,\n  payload,\n});\n\nexport const setSelectValue = (payload: string) => ({\n  type: SELECT_VALUE,\n  payload,\n});\n\nexport const setSelectedUserId = (payload: number) => ({\n  type: SELECTED_USER_ID,\n  payload,\n});\n","import { createStore } from 'redux';\nimport { State, Action } from '../react-app-env';\nimport {\n  INPUT_VALUE,\n  LOAD_TODOS,\n  LOAD_USER,\n  SELECTED_USER_ID,\n  SELECT_VALUE,\n} from './actions';\n\nconst initialState: State = {\n  todos: [],\n  user: null,\n  inputValue: '',\n  selectValue: '',\n  selectedUserId: 0,\n};\n\nconst reducer = (state = initialState, action: Action) => {\n  switch (action.type) {\n    case LOAD_TODOS:\n      return {\n        ...state,\n        todos: [...action.payload],\n      };\n    case LOAD_USER:\n      return {\n        ...state,\n        user: action.payload,\n      };\n    case INPUT_VALUE:\n      return {\n        ...state,\n        inputValue: action.payload,\n      };\n    case SELECT_VALUE:\n      return {\n        ...state,\n        selectValue: action.payload,\n      };\n    case SELECTED_USER_ID:\n      return {\n        ...state,\n        selectedUserId: action.payload,\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst store = createStore(reducer);\n\nexport default store;\n","import { State } from '../react-app-env';\n\nexport const getTodosSelector = (state: State) => state.todos;\nexport const getUserSelector = (state: State) => state.user;\nexport const getInputValue = (state: State) => state.inputValue;\nexport const getSelectValue = (state: State) => state.selectValue;\nexport const getSelectedUserId = (state: State) => state.selectedUserId;\n","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { loadUserAction, setSelectedUserId } from '../../store/actions';\nimport { getUserSelector } from '../../store/selectors';\n\nexport const CurrentUser: React.FC = () => {\n  const dispatch = useDispatch();\n\n  const user = useSelector(getUserSelector);\n\n  const Clear = () => {\n    dispatch(loadUserAction(null));\n    dispatch(setSelectedUserId(0));\n  };\n\n  if (!user) {\n    return (\n      <div>No selected user</div>\n    );\n  }\n\n  return (\n    <div className=\"CurrentUser\">\n      <h2 className=\"CurrentUser__title\">\n        <span>\n          Selected user:\n        </span>\n      </h2>\n\n      <h3 className=\"CurrentUser__name\">{user.name}</h3>\n      <p className=\"CurrentUser__email\">{user.email}</p>\n      <p className=\"CurrentUser__phone\">{user.phone}</p>\n      <br />\n      <button\n        type=\"button\"\n        onClick={() => {\n          Clear();\n        }}\n      >\n        Clear\n      </button>\n    </div>\n  );\n};\n","import { Todo } from '../react-app-env';\n\nconst API_URL = 'https://mate.academy/students-api/todos';\n\nexport async function getTodos(): Promise<Todo[]> {\n  const responce = await fetch(API_URL);\n\n  return responce.json();\n}\n","const API_URL = 'https://mate.academy/students-api/users/';\n\nexport async function getUser(userId: number) {\n  const responce = await fetch(`${API_URL}${userId}`);\n\n  return responce.json();\n}\n","import React, { useEffect } from 'react';\nimport './TodoList.scss';\nimport classNames from 'classnames';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getTodos } from '../../api/todos';\nimport {\n  loadTodosAction, loadUserAction, setInputValue, setSelectedUserId, setSelectValue,\n} from '../../store/actions';\nimport {\n  getInputValue, getSelectedUserId, getSelectValue, getTodosSelector,\n} from '../../store/selectors';\nimport { getUser } from '../../api/user';\nimport { Todo } from '../../react-app-env';\n\nexport const TodosList: React.FC = () => {\n  const dispatch = useDispatch();\n\n  const todos = useSelector(getTodosSelector);\n  const inputValue = useSelector(getInputValue);\n  const selectValue = useSelector(getSelectValue);\n  const selectedUserId = useSelector(getSelectedUserId);\n\n  const handelSelectUser = async (userId: number) => {\n    const userFromServer = await getUser(userId);\n\n    dispatch(loadUserAction(userFromServer));\n    dispatch(setSelectedUserId(userFromServer.id));\n  };\n\n  useEffect(() => {\n    const loadTodosFromServer = async () => {\n      const todosFromServer = await getTodos();\n\n      dispatch(loadTodosAction(todosFromServer));\n    };\n\n    loadTodosFromServer();\n  }, []);\n\n  const handleSelectChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    dispatch(setSelectValue(event.target.value));\n  };\n\n  const filterTodos = (todosFoFiler: Todo[]): Todo[] => {\n    let filteredTodos;\n\n    switch (selectValue) {\n      case 'active':\n        filteredTodos = todosFoFiler.filter(todo => !todo.completed);\n        break;\n\n      case 'completed':\n        filteredTodos = todosFoFiler.filter(todo => todo.completed);\n        break;\n\n      default:\n        filteredTodos = [...todosFoFiler];\n    }\n\n    return filteredTodos.filter(todo => (\n      todo.title.toLowerCase().includes(inputValue.toLocaleLowerCase())\n    ));\n  };\n\n  const handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    dispatch(setInputValue(event.target.value));\n    filterTodos(todos);\n  };\n\n  return (\n    <div className=\"TodoList\">\n      <select\n        value={selectValue}\n        onChange={(event) => {\n          handleSelectChange(event);\n        }}\n      >\n        <option value=\"all\">all</option>\n        <option value=\"active\">active</option>\n        <option value=\"completed\">completed</option>\n      </select>\n      <br />\n      <input\n        type=\"text\"\n        value={inputValue}\n        onChange={(event) => {\n          handleInputChange(event);\n        }}\n      />\n      <h2>Todos:</h2>\n      <div className=\"TodoList__list-container\">\n        <ul className=\"TodoList__list\">\n          {filterTodos(todos).map(todo => (\n            <li\n              key={todo.id}\n              className={classNames('TodoList__item', {\n                'TodoList__item--unchecked': !todo.completed,\n                'TodoList__item--checked': todo.completed,\n              })}\n            >\n              <label htmlFor=\"searchInput\">\n                <input\n                  checked={todo.completed}\n                  type=\"checkbox\"\n                  readOnly\n                />\n                <p>{todo.title}</p>\n              </label>\n              <button\n                className={classNames(\n                  'TodoList__user-button',\n                  'button',\n                  { 'TodoList__user-button--selected': selectedUserId === todo.userId },\n                )}\n                type=\"button\"\n                onClick={() => handelSelectUser(todo.userId)}\n              >\n                {`User #${todo.userId}`}\n              </button>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\n\nimport './App.scss';\nimport { CurrentUser } from './components/CurrentUser/CurrentUser';\nimport { TodosList } from './components/TodosList/TodosList';\n\nconst App: React.FC = () => {\n  return (\n    <div className=\"App\">\n      <div className=\"App__sidebar\">\n        <TodosList />\n      </div>\n\n      <div className=\"App__content\">\n        <div className=\"App__content-container\">\n          <CurrentUser />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport store from './store';\nimport App from './App';\n\n// Just a convenient component with all the wrappers for the `App`\n// The Router component (if you use it) should be placed inside the Provider\nconst Root: React.FC = () => (\n  <Provider store={store}>\n    <App />\n  </Provider>\n);\n\nReactDOM.render(<Root />, document.getElementById('root'));\n"],"sourceRoot":""}